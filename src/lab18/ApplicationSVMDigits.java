package lab18;

import lab12.Perceptron;

import java.util.Arrays;
import java.util.Random;

public class ApplicationSVMDigits {

    private static FileReaderLab18 fileReader = new FileReaderLab18("test.txt");
    private static final PointLab18[] ALL_POINTS = fileReader.getData();
    private static Random random = new Random(); //for testing purposes
    private static final int NUMBER_OF_FEATURES = ALL_POINTS[0].getFeatures().length - 1; //x and y and y-intercept
    private final static int NUMBER_OF_LINES_ATTEMPTS_PER_CLASSIFICATION = 1;
    private final static int NUMBER_OF_CLASSIFICATIONS = 10;
    private final static double[][] augmentedX = initialiseX(ALL_POINTS);
    private final static double[] classifications = initialiseY(ALL_POINTS);


    /*test file */
    private static FileReaderLab18 fileReaderTest = new FileReaderLab18("rsc.txt");
    private static final PointLab18[] ALL_POINTS_TEST = fileReaderTest.getData();
    private static double[][] augmentedTestX = initialiseX(ALL_POINTS_TEST);
    private final static double[] testClassifications = initialiseY(ALL_POINTS_TEST);
    /*
2.0, 	0.7920959434057914, 	0.3258955282744673, 	-14.154968713012984, 	19.713065654008766, 	-93.72180818777761, 	-48.77724679285528, 	-5.112634127698058, 	0.41763388175762806, 	0.934727724968944, 	-28.482463525850346, 	40.491041615711715, 	20.09792536557856, 	23.975447755759305, 	22.43758463762188, 	-22.33893194168347, 	-4.629410958404408, 	0.4495866298564495, 	27.048585668502056, 	28.466802581497475, 	-23.810939807686815, 	-32.848846902917245, 	41.18241551339801, 	-5.078791042773137, 	-3.2452393262834702, 	0.15463344014159153, 	27.77433339462634, 	22.794168150715876, 	-101.32187566754456, 	-86.86440734562126, 	48.95282578753958, 	44.23365156487225, 	0.09260362899719299, 	0.38562790996333307, 	7.577929694361956, 	45.5851677902498, 	-102.83202328180808, 	-147.03664502903212, 	-78.69234381728091, 	75.59774607475823, 	0.7436888437621935, 	0.7365852206268448, 	-10.312826827419673, 	75.28382091919124, 	-75.39137444677456, 	-115.83442278117391, 	-50.79830366043561, 	21.060733614816584, 	0.29062969302049046, 	0.5532234142093283, 	-28.288424597271387, 	3.4431688980083877, 	57.0872378057133, 	51.145259093531905, 	19.19685235035385, 	-26.52130467173245, 	-1.5314738046590453, 	0.9020575604985621, 	0.2786077169032013, 	-58.67731953632254, 	-19.086380069388305, 	-43.01669853521936, 	-34.444300840458915, 	-12.165796791868196, 	-0.29566628965212616, 	 	y = -2.4305210556270436x + -6.1369360009003
-365.0, 	0.19202898044984984, 	-123.98840928608325, 	-40.7402878272588, 	-675.2021553701, 	-50.138266236463494, 	-84.04248373507642, 	-470.87561644196836, 	-5.40017240257843, 	0.7697828479773289, 	-1222.4826216150066, 	-566.6430685319806, 	-205.58964537953284, 	-21.634346740919057, 	64.27899736937621, 	-170.71187354713365, 	-4.626301667215817, 	5.889424053605943, 	594.4000146761086, 	50.42175294635754, 	1062.6752893098346, 	415.96066080246993, 	7.172274752241876, 	-950.8002132848352, 	-1.073333351288256, 	1.1588094052246025, 	45.95885806551706, 	129.882753846818, 	-294.48974713065894, 	359.53604776152065, 	283.1314812471365, 	-136.59141616779846, 	0.6098140722809734, 	-0.5189169405785833, 	-269.72241803072984, 	129.96143185781256, 	-150.69030759405396, 	87.86117102546089, 	-739.1307421807073, 	-413.61863929205117, 	0.5843745970740536, 	-4.090326944090873, 	-483.209669934014, 	-62.52356411072731, 	246.2196867333522, 	-471.1022443137522, 	-196.3968458294991, 	36.76070227628742, 	-51.29211768802492, 	-3.768623497861852, 	-416.79659840924694, 	-192.86532587152715, 	-343.05888333506425, 	748.2484890852047, 	-86.4411124294235, 	92.54938474490395, 	-166.90872171749226, 	0.6564391559397207, 	-82.44237742628208, 	-250.24929408568244, 	379.40887276399314, 	-672.7541873175129, 	509.60061561709665, 	-172.21243846283875, 	502.79963331498493, 	 	y = 0.0015487655786177073x + -2.9438235565860142
1.0, 	0.8183617424237075, 	10.585791749885875, 	-5.193723317307388, 	-0.5175837362274152, 	-1.160322337880018, 	-51.85244776527122, 	-19.892378019986023, 	0.852616193416063, 	0.604965221382929, 	34.55855623294692, 	23.01963013926745, 	-18.436243734128936, 	73.39584180732874, 	-17.179592424648185, 	-8.269014377680593, 	0.575007383220782, 	0.33975929930598714, 	-7.434188219144538, 	-85.02929356277686, 	-148.4642144530032, 	35.69035903509193, 	19.142485983454286, 	3.0655250848280984, 	0.6431512342716934, 	0.23430426471259225, 	-36.24108255787159, 	-117.17610393098758, 	-134.540428857879, 	-55.93599982690414, 	29.720687793725034, 	-32.222455393444676, 	0.577669724989646, 	0.5776821380426319, 	-43.3965372081615, 	-111.36333390306498, 	-74.33589482122996, 	-99.15332636779536, 	-74.06761974328529, 	-77.70366898411281, 	0.46646305526615783, 	0.42418455697024715, 	-20.43254828355414, 	-20.63065410535674, 	128.8250678538671, 	-34.73915789446121, 	-127.46927396869535, 	-109.98523431068784, 	-0.40412870331229767, 	0.6392159902357817, 	20.453346056687465, 	-38.21855163295221, 	93.66108319476746, 	108.94292009164712, 	65.1692622946062, 	86.29248807318967, 	-1.1190305212414504, 	0.6354435626500997, 	9.237250345078774, 	4.859058215331501, 	-12.076751374093845, 	13.039683734905012, 	48.33401148418949, 	108.53114136855078, 	11.395777015194035, 	 	y = -0.07730756109315397x + -0.09446624528682807
-4.0, 	0.2921339470840587, 	-31.52630038203585, 	-48.919747826763654, 	37.875676031125295, 	85.01060547919973, 	-76.41765064623912, 	-114.56095850366285, 	0.001740195899734731, 	0.025114474433353684, 	131.46562322983152, 	69.72705887912178, 	-28.151807125620905, 	-41.01885148733353, 	86.29018330572586, 	12.386099563025361, 	0.08447076529986897, 	0.7062075382423592, 	16.70559645322294, 	-307.1086439684773, 	-30.977753373154044, 	128.64747420881483, 	-8.826603078588377, 	-1.8598595044143806, 	0.49857497592702016, 	0.8926571843646753, 	-116.54834433897886, 	-185.73300371647582, 	-21.914968558667596, 	-41.0363873233504, 	-81.46571821731622, 	-89.68056751288546, 	0.8581054639172807, 	0.35067082074590816, 	-31.43208642549559, 	-35.79003810684077, 	34.517864514688945, 	-41.809837346909084, 	-64.60086046477875, 	-21.502182450291997, 	0.59991532127363, 	0.5784647525611814, 	-39.55907707820661, 	-143.15233176561753, 	-266.11005460611585, 	-48.23705151954535, 	109.48948566408902, 	135.46284912851698, 	0.9206364831816101, 	0.8535406573954479, 	-24.028459300707215, 	89.39706842823679, 	-96.39250137831459, 	-37.24182605483464, 	113.8566444686966, 	-5.588753279601036, 	-7.336818026442828, 	0.7612242700825814, 	-12.869425948972678, 	50.961090722388654, 	22.419080938942756, 	-15.46389624255795, 	-16.706983671589768, 	-135.0238013645355, 	-19.921446712709766, 	 	y = 0.009266356773359965x + -0.1268781922245231
3.0, 	0.0911995453076172, 	-5.12047433658751, 	-66.92591251331811, 	-129.18812974779286, 	-63.06600666135803, 	-85.57312140217824, 	-92.07964298974966, 	-22.53124125436304, 	0.19303747281285544, 	-65.07319151458913, 	-104.50514999784637, 	-25.467009707590996, 	-65.32876356227686, 	-100.66294549226325, 	-19.92530658730933, 	-8.868695275654293, 	0.9844993710507582, 	-41.88554144278075, 	73.43444494389455, 	45.853967591127414, 	-89.84742928218071, 	-43.78368329044173, 	-16.61464475582777, 	13.326047704280946, 	0.9905097016593959, 	88.83048772578942, 	25.451780958849838, 	4.285481573374284, 	-43.911675613605105, 	70.53802416172427, 	232.2207895914795, 	0.7178826420601596, 	0.014899783369127118, 	64.21853756514511, 	34.07775572954765, 	31.657622545631533, 	-40.86275901231797, 	113.77120401172607, 	128.62375501796106, 	0.9805325430139228, 	0.10718663752127378, 	128.6432619851946, 	49.059820945358, 	90.88564326162363, 	77.63512949710524, 	23.233049572496853, 	-54.78136320655476, 	-0.20829896404756898, 	8.643914657301346, 	158.46607353629017, 	-51.27400692564072, 	11.058770120453772, 	5.2759680928568145, 	-38.7697021918311, 	-86.01765137407223, 	-7.713950469883978, 	0.5128416147749782, 	33.9007847769388, 	-32.73090872053167, 	-126.06589576704812, 	-49.64125738606604, 	-116.11598261445755, 	-70.69539804257136, 	-0.3269696754914746, 	 	y = 0.01781076113514832x + 0.5858832215140679
-6.0, 	0.9470611579510574, 	1.4511673509905325, 	112.20954009496097, 	95.4958220852539, 	136.61163468593074, 	187.1134944840643, 	181.4069445027999, 	6.033693211142143, 	0.4958528485177659, 	36.695519949795596, 	-38.20004471805367, 	137.629356551422, 	45.034953868087285, 	-17.28222120435069, 	-118.65997428984213, 	-10.570306955354361, 	-39.23368912465145, 	1.576028221487384, 	80.42796452984712, 	-26.73182408900543, 	-114.80330861793175, 	-228.77491685124068, 	-380.72654226136524, 	0.22790472672776396, 	-7.77408203364058, 	40.671990520607324, 	74.14187839877502, 	17.827409067364, 	-66.74913798019377, 	27.55701494773951, 	-184.3813357691211, 	0.02419819076701568, 	0.5629604540670163, 	-90.02702084275475, 	-12.91107498379759, 	-33.19377090193012, 	-146.45204739809503, 	-161.79817753602111, 	4.603575279445536, 	0.8729101494283023, 	0.4982929470766979, 	-157.76818849379595, 	-309.8168298597578, 	-297.2050466163997, 	-26.443297500714678, 	-48.24034297294334, 	124.39675487291936, 	25.086333038595562, 	0.42358006806881754, 	-31.121138583024646, 	108.74542224140626, 	74.82180430982118, 	-5.018498045840374, 	-169.19105848853633, 	45.97890366540189, 	2.789880328996478, 	0.9167966801704697, 	-2.1702578077205104, 	-24.0215965182321, 	10.683861961729704, 	-95.24881073354453, 	-68.94912437144403, 	2.2500186654091436, 	-118.49754065804385, 	 	y = -0.6526202214407704x + 4.134602391588084
1.0, 	0.17312101293982318, 	-2.2113826801650607, 	-64.94772200211457, 	-40.55814885809631, 	-13.103148494986783, 	-26.274721767974107, 	-10.697696473192948, 	0.13297921156197923, 	0.7016606266613218, 	-27.01077245253831, 	-36.65953064726076, 	-6.234823778515768, 	-61.39599912097914, 	-41.391534390757485, 	-15.001433214818041, 	0.047986502074106596, 	0.6399747009546704, 	-59.305153591621185, 	27.842100482649172, 	-17.2772664307196, 	-106.48033346295568, 	-80.32345165397777, 	-32.35789880739635, 	0.3806941097475043, 	0.998444351872973, 	3.254235722418011, 	11.483417705702621, 	-42.50118612605273, 	-62.00312249001874, 	-110.58055700738682, 	-61.30407983114611, 	0.5339378136802404, 	0.6620502327837366, 	-22.70734185446363, 	67.28430421979701, 	48.78859834300948, 	16.6304332350657, 	-26.886222510562426, 	-28.57230613918148, 	0.2897246935900416, 	0.7261087717921334, 	-60.55095060213657, 	53.921997838970185, 	51.10620772995219, 	-58.79197331740676, 	-12.433680575236256, 	91.14598304655698, 	5.372073668226582, 	0.4661027455699863, 	-41.02566465138821, 	3.2462859545539793, 	35.77909202906402, 	-119.2416475044632, 	6.322064905121849, 	102.75709037117582, 	10.455961817131545, 	0.17988724546793056, 	-3.789574536908126, 	-54.203041274194526, 	-21.039208475359736, 	17.55948124449629, 	24.98151929224649, 	15.318310695884023, 	-7.4205919317131634, 	 	y = 0.07828632036084372x + 0.4522057665412115
3.0, 	0.6647603606507052, 	-1.2380022461772828, 	16.119679456244477, 	-13.176222906353175, 	-5.01353460067358, 	91.86807630229269, 	44.58328804642824, 	10.70013230470926, 	0.05344393011273352, 	-15.42886156073044, 	-4.0541878460624545, 	14.10676136654969, 	37.147580344746025, 	18.75417532680263, 	29.135041104751338, 	-1.8939901283146447, 	0.16730598838056432, 	-20.182341920072787, 	-139.74550220694408, 	-103.27111834030741, 	13.545936564169345, 	-31.01354048479635, 	17.967720904841904, 	0.024764782236989746, 	0.20874897973042306, 	-64.14324410473127, 	-125.57143506590174, 	-48.75181385360372, 	-7.288472194876839, 	40.56025805338718, 	60.39487725619398, 	0.7459797494570759, 	0.9816329247145525, 	-46.35324512504645, 	-7.35564241973794, 	40.1600116055062, 	42.017209389232264, 	92.4158345701102, 	83.449099684874, 	0.018611731594812997, 	0.4909810982264471, 	-24.035218135979324, 	-64.34073871976142, 	102.65412172697255, 	23.452140560103153, 	-69.33796761761195, 	-55.10349733801733, 	-3.3455257535330176, 	0.2231666480745469, 	-7.8958018490403745, 	-22.535719521673403, 	-9.266521469740098, 	-116.85202673922777, 	-115.13043924925125, 	-71.15522205106336, 	-4.012506518762863, 	0.06361149818617895, 	-0.45793809861611123, 	-38.92880149837865, 	-64.00457142548115, 	-88.76018113448316, 	-59.45279636205172, 	-19.16065508525228, 	0.11451959523552224, 	 	y = 0.5369621603703545x + 2.4232589312850066
-34.0, 	0.9079017829538426, 	-14.59796950804028, 	-202.12153279431436, 	-40.086356530782425, 	-52.23875398655892, 	-154.87346333931163, 	-181.14121944131057, 	-15.75263136691105, 	0.6608265434475086, 	164.97208882295598, 	-122.53656824008357, 	-277.46013289234264, 	-256.9655639701334, 	-46.65676833389145, 	104.16807264876948, 	-37.66280956836726, 	-4.375416104695245, 	454.35492232835963, 	187.6719282246592, 	-55.65844114014389, 	-83.56795732735387, 	224.57098629310897, 	23.570644685105535, 	-17.260540355204057, 	-0.21524621077662254, 	48.82573488103574, 	75.65414645492136, 	300.17761882670993, 	28.990619730139343, 	-25.897836872544445, 	-168.0083586538976, 	-0.5103390631809546, 	-0.4272523505603041, 	-549.3557509084866, 	-208.10342156450258, 	447.4959964098575, 	1.656999972527096, 	-152.03377341355227, 	-39.673723839812965, 	0.20045368484745196, 	-4.315755070588852, 	-92.81169434159129, 	385.26410306851653, 	187.48939965111876, 	2.253490698506141, 	61.17616567139771, 	-250.84349279936364, 	0.002567942632560327, 	-5.432875631791168, 	-32.70935135416347, 	258.53285441158147, 	-411.8104579288418, 	-205.35423275642046, 	40.16443085420087, 	-56.47705026364568, 	-8.308183745551565, 	0.207796190926118, 	-140.18594687097644, 	-245.89471976714043, 	37.09758343834011, 	-146.13262964016454, 	-268.4314585259832, 	-258.4315681946987, 	-10.195122672628736, 	 	y = 0.0621937032032974x + -2.3290910411392116
-2801.0, 	0.15300159742247088, 	3141.399157155163, 	-1203.7064479134738, 	689.4295609456112, 	-599.3907233636995, 	-600.2768123488597, 	882.5667200060806, 	-1890.8977581775744, 	0.2006831401305329, 	1585.0945097296062, 	802.6841101302488, 	-914.0617324418557, 	904.274026482153, 	230.35739423780814, 	-636.8039406505331, 	-168.2488465351072, 	-9.533951472817902, 	-101.67569174285012, 	1154.0422798809618, 	414.4204491602175, 	273.385044004972, 	432.9703153327597, 	1577.816266130488, 	-3764.776241612418, 	-1.3687775962721438, 	-1812.6142451691528, 	501.8428283158713, 	-477.8489481051058, 	-33.37174097722706, 	1780.5468006697047, 	-677.0950353721126, 	-15.29332474737231, 	0.16132866615311292, 	-334.1370852013231, 	36.39476094888241, 	478.74449188304334, 	-738.7789819913814, 	-638.1091258318381, 	-1349.617266780434, 	0.9528913984865862, 	0.7378639880625906, 	1216.5669642398207, 	-2582.398995533881, 	-1698.2910682214138, 	673.0588669705226, 	-117.19790396674153, 	398.617934708545, 	0.1546733971430121, 	0.565179163475675, 	-2295.690981886928, 	275.54529891247034, 	171.51380181537291, 	-1840.3407296266382, 	-832.91354164219, 	-212.53616568467373, 	2059.8629252595156, 	0.4602245650205883, 	572.0719451297591, 	-68.62104450680147, 	-816.2005281725915, 	586.9374223353902, 	-624.9067791155758, 	-506.0743385453087, 	-2033.293099264595, 	 	y = -4.870492088659897E-5x + 0.8916409089943773

     */
    public static void main(String[] args) {
        augmentedTestX = Perceptron.augmentX(augmentedTestX, NUMBER_OF_FEATURES + 1);
        Perceptron[][] perceptrons2D = new Perceptron[NUMBER_OF_CLASSIFICATIONS][NUMBER_OF_LINES_ATTEMPTS_PER_CLASSIFICATION];
//        double[][] perceptrons2D = new double[NUMBER_OF_CLASSIFICATIONS][NUMBER_OF_LINES_ATTEMPTS_PER_CLASSIFICATION];

        perceptrons2D[0] = getClassification(0);
        perceptrons2D[1] = getClassification(1);
        perceptrons2D[2] = getClassification(2);
        perceptrons2D[3] = getClassification(3);
        perceptrons2D[4] = getClassification(4);
        perceptrons2D[5] = getClassification(5);
        perceptrons2D[6] = getClassification(6);
        perceptrons2D[7] = getClassification(7);
        perceptrons2D[8] = getClassification(8);
        perceptrons2D[9] = getClassification(9);

//         perceptrons2D[0] = new double[]{1.0, 	0.18982499053470303, 	-1.758772028893124, 	6.863966730784018, 	13.970463167519863, 	-75.30865698562161, 	-39.6082578857696, 	-17.151122778879248, 	0.941513592517543, 	0.1725235431733504, 	-36.887323754422205, 	38.73404396058894, 	28.17225128200637, 	39.217839713746756, 	56.24369756815423, 	11.038678607824142, 	0.5950262694559247, 	0.3842505570147129, 	2.8129418930602377, 	33.48634544628219, 	-42.025592604090846, 	-58.50372540853971, 	64.34581280195204, 	2.392269182044931, 	-3.980049499012595, 	0.6104332065560822, 	16.04402485915324, 	32.25097258186022, 	-85.62216833585185, 	-69.844436009986, 	46.65804147588955, 	1.2206853245933864, 	-0.48165590415329584, 	0.5494494062371549, 	-22.259684177692094, 	61.44803662245193, 	-123.02136034555691, 	-148.45759785704266, 	-81.76274872165476, 	36.0798630795686, 	0.7687288293639295, 	0.6448926245814, 	-27.945444850160754, 	107.3685351548999, 	-79.99636385424202, 	-131.74099903442286, 	-59.686332221917354, 	-3.5069754169426304, 	0.985740252690062, 	0.5524194024679078, 	-8.493793331948417, 	17.590006247032946, 	60.028711303546615, 	28.68892797404024, 	12.648873164089537, 	-49.98239212155872, 	-3.71190941768364, 	0.7607104772772825, 	3.8430269158562416, 	-18.941008359759117, 	5.743440520506894, 	-50.344426465375065, 	-38.64885850210035, 	-19.886228634423837, 	0.2631257816444874, 	0.0};
//         perceptrons2D[1] = new double[]{-393.0, 	0.7283444166930312, 	-138.43044274661693, 	-84.63785172016452, 	-694.2094934392544, 	-33.73867048175819, 	-120.98620110603272, 	-441.3467914852986, 	0.7333143317333014, 	0.7144003387052392, 	-1244.315574344499, 	-562.1609734780843, 	-159.4051110930492, 	17.275742867600712, 	99.79968837209418, 	-213.07774182148216, 	-2.9623734241814854, 	5.688412908912409, 	637.428956033883, 	39.05533659044325, 	1095.4719015858818, 	395.19546588172244, 	10.701084679315898, 	-975.2188369013794, 	-1.0646640293174547, 	1.7313377100647243, 	35.271984529747385, 	119.03697154588028, 	-337.1716104165485, 	351.2070414693744, 	364.8113035317748, 	-171.89659712193082, 	0.6358177367265054, 	-0.8677475724875684, 	-303.7035342208998, 	152.15446048868466, 	-167.00501111178482, 	84.61911172061309, 	-789.4131262957319, 	-407.5561010238843, 	0.8597497048977402, 	-7.97941332562581, 	-511.90809673229194, 	-12.550267389999021, 	263.0524712047185, 	-516.9295159969918, 	-176.65660865602297, 	1.4909314157187623, 	-45.802896356054326, 	-2.5872806247135403, 	-399.06336442673955, 	-250.57099305663218, 	-396.1174854558053, 	783.8342051266907, 	-105.38650398937929, 	48.07207157239888, 	-177.0819217474267, 	0.34872529639656036, 	-63.77299013135402, 	-269.1899114954846, 	482.71243161881193, 	-715.4815746832373, 	553.9489993270803, 	-184.17258765568232, 	512.131505521028, 	0.0,};
//         perceptrons2D[2] = new double[]{-1.0, 	0.9068886758223532, 	6.4008427604185005, 	13.53452380990953, 	21.6752465528322, 	-21.242755844377413, 	-94.64793655944767, 	-18.312707597305714, 	0.773234304776817, 	0.19268620376628576, 	30.327668987474567, 	47.445883502244456, 	-29.943617334479107, 	55.88374088242746, 	-49.552653704852574, 	-38.40073077400927, 	0.5638407785186377, 	0.8642834396825054, 	2.099601375356279, 	-76.60785744723962, 	-110.63204696811073, 	31.029857661742774, 	12.650506327173787, 	-9.476987786744814, 	0.18447272537731452, 	0.5449165281185396, 	-12.572444489343852, 	-134.69144193406615, 	-112.9324070913512, 	-29.71281146005289, 	49.643212476714496, 	-14.876591093728965, 	0.10486350965336921, 	0.9896003191307334, 	-47.693482397985996, 	-90.97764490568098, 	-69.6985211506204, 	-56.94633648733455, 	-45.41383362485871, 	-72.46888930512576, 	0.649082723083837, 	0.10295928513501862, 	-27.465243727934777, 	-0.04790857154830519, 	137.71115342639268, 	-56.778668220612985, 	-146.43855971237934, 	-109.8267244001089, 	-0.07480602297707084, 	0.4776271339548719, 	41.54901328304305, 	-48.108932385559676, 	99.22136790388268, 	106.77729192792467, 	81.05149719707441, 	50.3621846389453, 	-3.5121158571106506, 	0.30087164216633455, 	8.579579601391355, 	17.28493868329717, 	-60.124650600955675, 	-27.20957462648684, 	44.583799429363324, 	100.17688808968644, 	33.92546985670933, 	0.0, 	 	};
//         perceptrons2D[3] = new double[]{0.0, 	0.8782226403436141, 	-9.279947361301412, 	-45.26525052850266, 	17.529615069332067, 	112.78784324817957, 	-57.155984912107286, 	-52.114098832480835, 	0.6619229795726354, 	0.30495982241148356, 	119.10685088987864, 	53.11030124390324, 	-45.660676197799546, 	5.496731868185435, 	70.8518120913611, 	12.15651483141788, 	0.17811884373928577, 	0.6386578654671506, 	-16.215774323190963, 	-307.7366546235593, 	-100.86264461149204, 	141.45344888447516, 	-46.49278048508697, 	-6.692925891060856, 	0.849213647466147, 	0.029953114650243418, 	-77.60703656173062, 	-185.90376628818103, 	-5.871508990483676, 	16.036053331707706, 	-78.10812732785189, 	-56.16346995589838, 	0.9262285638264145, 	0.5709046432091399, 	-43.316020682909766, 	-58.026904667858545, 	18.872407963428422, 	-12.110424383518058, 	-25.21531533245296, 	10.45807757110095, 	0.33877942624937385, 	0.27710036017030604, 	-35.168636413560236, 	-178.01135996074666, 	-223.35473560762688, 	-40.45085464304016, 	74.29779946488503, 	93.9137659629038, 	0.6320093290335754, 	0.012939492218995596, 	-52.689813481139026, 	63.31783354428282, 	-70.67595000472959, 	-29.765188749864322, 	108.07144371585571, 	0.25474646412216373, 	-13.173322106981207, 	0.6296226358328102, 	-12.360157442571928, 	20.228475622954022, 	30.906984205274455, 	-9.287415954554227, 	-35.04654123852046, 	-72.20581151418259, 	-24.05931150183662, 	0.0, 	 	    };
//         perceptrons2D[4] = new double[]{2.0, 	0.03559395976783286, 	-2.2168296695664504, 	-69.88489961641167, 	-150.86885958802145, 	-45.55742284253583, 	-86.6384383268244, 	-113.11963870020338, 	-23.333814620888457, 	0.15958189597170258, 	-28.653555941836935, 	-131.48850921402834, 	-57.575217969033865, 	-90.03699947109796, 	-106.28766513968253, 	-48.10418003329724, 	-12.791977071970894, 	0.41764772618581125, 	-26.024387974915065, 	-15.39009071408681, 	61.8533673978464, 	-106.76983122963927, 	-78.78468942706435, 	-5.97009991587241, 	20.509134893972924, 	0.4616789810630968, 	104.9445213867487, 	32.29659586386899, 	74.76352221105718, 	-13.954046421228924, 	22.27407300126511, 	175.21489354081876, 	1.8164071891836489, 	0.33390193371833443, 	65.12365377566753, 	38.58222414129512, 	21.961303581752276, 	-20.809276427623686, 	114.33025892668212, 	157.88695141166986, 	0.005183052149902889, 	3.5090579459797016, 	121.37982243364108, 	1.7952159356686153, 	27.895481952653626, 	113.86960377668552, 	63.14512147928127, 	-51.64649868693266, 	-0.2535378673384564, 	11.480097710982909, 	145.45151668835888, 	-52.62576199367685, 	-68.3388035371317, 	56.45420636963536, 	-78.48818103605592, 	-123.95695009181094, 	-3.7691986396851656, 	0.9537998691759764, 	32.272549264615805, 	-30.611213041266033, 	-158.64085968835872, 	3.7112387104050697, 	-106.50391491099091, 	-69.10872290945434, 	-0.8909263329847058, 	0.0, };
//         perceptrons2D[5] = new double[]{-7.0, 	0.266928521993552, 	-9.980590626961567, 	80.16586021847864, 	96.47042728628233, 	161.26506330277962, 	163.28006068822143, 	195.21804103748906, 	9.950761700889887, 	0.03440208642842413, 	-1.5967477006050927, 	18.320794407617257, 	102.7040587780765, 	65.22119240459793, 	2.288003539643924, 	-137.11354190784533, 	-14.084862237104717, 	-39.80177220160623, 	22.123469081504368, 	141.25481759362665, 	-7.319260836363867, 	-122.7059339217383, 	-255.8071776498296, 	-407.5199644813182, 	0.11355480768214765, 	-7.529406483154489, 	47.51959684943711, 	110.26754123393464, 	-16.90896190360079, 	-83.66028712319519, 	64.27875681428571, 	-212.0849622484856, 	0.9760511763138353, 	0.12575312337173827, 	-59.44409797903846, 	-9.969272639574562, 	-50.374336081133364, 	-160.44773116425563, 	-148.39460604400324, 	-0.12294681457441214, 	0.3999272438095376, 	0.6602181145956703, 	-179.76817649098058, 	-291.58030094073825, 	-330.31579913602116, 	31.24907753099395, 	-73.70087668568186, 	88.5492857308328, 	31.646623791286693, 	0.9732737143640154, 	-21.342239713438556, 	66.487145876954, 	26.56657358422639, 	-26.876619610374675, 	-159.0271728075947, 	52.08675702143725, 	12.090467842620853, 	0.7748512633497291, 	-9.965515516169749, 	-18.40114452089658, 	41.198019849236985, 	-100.70337146386795, 	-60.862913165639725, 	34.480950453465866, 	-120.50493249141783, 	0.0, };
//         perceptrons2D[6] = new double[]{3.0, 	0.03236132000663394, 	-3.533396003771922, 	-40.89891460431925, 	-24.414037752253968, 	-31.49825881300699, 	-26.400767873917253, 	-4.341390033966563, 	0.5245858869852067, 	0.6266350312427073, 	-32.92537744643313, 	-11.569111405259413, 	-0.8310128681848816, 	-66.23506445169187, 	-45.24784043944702, 	-22.439440296204527, 	0.13500356740463326, 	0.471258257722464, 	-29.627080306794234, 	22.499628580487126, 	-26.53958173330431, 	-60.5219468252168, 	-73.59053084606433, 	-41.59264943008503, 	0.15056980511999396, 	0.43433897996216, 	11.980207126245322, 	10.562221494074208, 	-35.67900572833493, 	-62.26636642259129, 	-75.52840457294437, 	-42.70798698531851, 	0.9285841380183346, 	0.7401932224236559, 	8.653217828431927, 	41.293952940656425, 	28.23997665631652, 	28.731462271768898, 	-5.506537349368198, 	-9.88343404762665, 	0.12436028530060661, 	0.9146736876784443, 	-9.412275281549949, 	37.005353345116006, 	42.97761444485262, 	-19.053169493753522, 	-1.903626053534488, 	65.27640493870037, 	1.58567447787821, 	0.48983683819661916, 	-19.643660789181396, 	-3.1247995589653996, 	31.517240190407378, 	-86.53366372780775, 	-4.121991702891393, 	70.80227088812921, 	-4.300576911657423, 	0.8468546653416149, 	-1.7317543363541457, 	-40.35694416994866, 	-33.32534647648273, 	-10.004866722912531, 	41.73068162768975, 	7.526205547389228, 	-12.33685377941923, 	0.0, };
//         perceptrons2D[7] = new double[]{3.0, 	0.10122204276117996, 	-5.6487817941443526, 	21.093700784398596, 	-11.664789602992485, 	-35.82114262248754, 	53.615241056974256, 	56.372840256812225, 	15.028910884974485, 	0.8710102017362187, 	12.377598967054478, 	19.157409237682643, 	6.003306662803247, 	33.682345759726545, 	38.36345583661155, 	14.807002826056738, 	8.691161193128975, 	0.7555606726584011, 	-15.350103483839792, 	-114.65450479444893, 	-91.70430141432522, 	-5.475271391761076, 	6.2691722511535914, 	3.0475501690886873, 	2.2787697056680685, 	0.6152019173696448, 	-40.11556231727248, 	-112.78463221130266, 	-68.17179782269366, 	-21.73072487303358, 	21.620163420096638, 	35.165595127398106, 	0.4123975854035635, 	-0.7151770275699314, 	-25.02977179774902, 	13.232461869434601, 	32.574183317978424, 	38.568384314443, 	54.203765168058055, 	98.28558433362467, 	0.316123076431744, 	-4.075329793295586, 	-28.15784303477485, 	-11.14048551386783, 	70.78593399700512, 	10.631233408408647, 	-39.409855083936435, 	-22.503007132153176, 	0.4833551206457911, 	0.6800428354336477, 	-20.430162583042666, 	-36.68100213091438, 	3.8787559855883984, 	-91.69303399867891, 	-88.17152650982277, 	-33.84793405740997, 	0.15897010666588662, 	0.5756687672785078, 	-5.130882558921115, 	-12.233009575334314, 	-26.20271653031807, 	-91.6657991760056, 	-18.611969071036988, 	-5.087110409284502, 	0.782202937915278, 	0.0,  };
//         perceptrons2D[8] = new double[]{-34.0, 	0.9326364370783214, 	-14.70038381323807, 	-178.9233913839216, 	11.253792878033266, 	-82.72375958604846, 	-115.50500304319473, 	-161.74392263143818, 	-17.855682617225664, 	0.9240657815053128, 	181.66869525335443, 	-129.72526381863563, 	-258.0275019055742, 	-256.286186029418, 	-67.1892893866746, 	111.45951424138167, 	-29.715118092085387, 	-19.041090660469067, 	374.72614041378324, 	203.8082826296481, 	-47.57951441205634, 	-96.19050163588065, 	238.03569790801276, 	65.80844408655088, 	-17.009790166368955, 	-3.6720154370517193, 	56.4139061817164, 	82.66117495376034, 	295.4189561858776, 	76.66841199444742, 	-44.41656910975007, 	-125.3844267765536, 	-0.6122420273084558, 	0.792955180319565, 	-459.30172732686134, 	-206.385962739082, 	451.7056189123168, 	-28.6410310892838, 	-134.73095190776434, 	-60.3964799771247, 	0.7393854153715625, 	-0.23350335542605438, 	-86.28965425482085, 	394.67687372332443, 	204.03486223739486, 	-37.13116853774551, 	17.923151717271708, 	-233.32567957559195, 	0.17351326491770314, 	-9.482331138783126, 	-9.935403263987766, 	218.99715439861532, 	-389.7735275953846, 	-207.06041392089364, 	57.80278501666626, 	-41.8358980951855, 	-3.6087778230647225, 	0.9220277694468116, 	-128.09377734597535, 	-210.92466478974563, 	7.526180527295985, 	-176.07532654167358, 	-260.0246289817658, 	-297.96004289983733, 	-7.665430798113197, 	0.0,};
//         perceptrons2D[9] = new double[]{-2722.0, 	0.013882701229100847, 	3418.243708757581, 	-1250.7907858266403, 	785.5266411817709, 	-529.5605434830179, 	-704.2369966707197, 	889.6284199513075, 	-1837.3444754520206, 	0.21308987697447357, 	1529.1992589627428, 	884.3202775102983, 	-906.8743767660981, 	835.4691530805178, 	327.041881111315, 	-542.3917379472532, 	-200.3131551335486, 	-14.6611123956963, 	-41.981923058725485, 	1075.0556393886752, 	439.42585077488945, 	293.36886516449965, 	362.2238238904969, 	1410.9339685344714, 	-4065.736827133537, 	-2.2248321739756443, 	-1831.548654325988, 	546.383969073638, 	-534.397763282803, 	-53.47290597553376, 	1711.2032383059154, 	-601.5006253956572, 	-12.263844159234347, 	0.8918908873602188, 	-341.6586026396348, 	110.15521376056623, 	462.1542961467301, 	-714.1340418626003, 	-549.8168454958858, 	-1294.3509690000062, 	0.3329909176526362, 	0.8681647250666182, 	1224.1275393837184, 	-2568.8731208727095, 	-1719.0565792192433, 	706.1773642796618, 	-181.4286583537879, 	297.3254865415951, 	0.6645551916484271, 	0.8588907971114011, 	-2318.0423458570212, 	288.37782176488406, 	128.95018492497803, 	-1849.6562386276087, 	-839.7111623482845, 	-154.69865139453884, 	2273.1664580857164, 	0.399508308453533, 	564.3313542522545, 	32.31658541602309, 	-857.5100353512704, 	589.963007712983, 	-633.9583251085132, 	-595.6718474596283, 	-2039.1637024831898, 	0.0,};
        int weightIndex = 0;
        int classificationIndex = 0;
        for(Perceptron[] perceptrons : perceptrons2D) {
            double[][] lineWeights = new double[perceptrons.length][perceptrons[0].getWeights().length];
            for (Perceptron perceptron : perceptrons) {
                System.out.print(perceptron + "\n");
                lineWeights[weightIndex++] = perceptron.getWeights();
            }
//            double[] bestLineWeights = MatrixUtils.maximiseTheMinimumGeometricMargin(ALL_POINTS, lineWeights, perceptrons[classificationIndex].getY());
//            System.out.print("****BEST LINE EQ: " + MatrixUtils.getLineEquation(bestLineWeights) + "*****");;
            weightIndex = 0;
        }

        //go through tests
        int correct = 0;
        int incorrect = 0;
        for(int testPointIndex = 0; testPointIndex < augmentedTestX.length; testPointIndex++) {
            double[] augX = augmentedTestX[testPointIndex];
            int classification = (int)testClassifications[testPointIndex];
            int[] countVote = new int[NUMBER_OF_CLASSIFICATIONS];
            //count up the votes
            for(int perceptronIndex = 0; perceptronIndex < perceptrons2D.length; perceptronIndex++) {
                double[] weights = perceptrons2D[perceptronIndex][0].getWeights(); //for now attempt 1 line. so index 0
//                double[] weights = perceptrons2D[perceptronIndex]; //for now attempt 1 line. so index 0
                int prediction = MatrixUtils.getHypothesis(augX, weights); //if -1, then not that category, if 1, then it is possibly that digit

                if(prediction == 1)
                    countVote[perceptronIndex]++;
            }
            System.out.println(Arrays.toString(countVote));
            //get highestVote
            int highestVoteIndex = 0;
            int highestVote = 0;
            for(int voteIndex = 0; voteIndex < countVote.length; voteIndex++) {
                int vote = countVote[voteIndex];

                if(vote > highestVote) {
                    highestVote = vote;
                    highestVoteIndex = voteIndex;
                }
            }

            if(highestVoteIndex == classification)
                correct++;
            else
                incorrect++;
        }

        //output results
        double accuracy = ((double)correct / testClassifications.length) * 100.00;
        double errorRate = 100.0 - accuracy;
        System.out.println("CORRECT: " + correct + "\nINCORRECT: " + incorrect + "\nPERCENTAGE: " + accuracy + "\nERROR: " + errorRate);
    }

    private static Perceptron[] getClassification(double desiredClassification) {

        //Transform the NUMBER_OF_CLASSIFICATIONS classifications into NUMBER_OF_CLASSIFICATIONS binary class problems
        double[] binaryClassifications = MatrixUtils.getBinaryClassifications(classifications, desiredClassification);
        Perceptron[] p = new Perceptron[NUMBER_OF_LINES_ATTEMPTS_PER_CLASSIFICATION];
        for(int i = 0; i < NUMBER_OF_LINES_ATTEMPTS_PER_CLASSIFICATION; i++) {
            Perceptron perceptron1 = new Perceptron(augmentedX, binaryClassifications, NUMBER_OF_FEATURES);
            perceptron1.perceptronLearningAlgorithm();
            p[i] = perceptron1;
        }

        return p;
    }

    private static double[][] initialiseX(final PointLab18[] allPoints) {
        double[][] X = new double[allPoints.length][NUMBER_OF_FEATURES];
        for (int pointIndex = 0; pointIndex < allPoints.length; pointIndex++) {
            PointLab18 currentPoint = allPoints[pointIndex];
            for (int featureIndex = 0; featureIndex < NUMBER_OF_FEATURES; featureIndex++) {
                double feature = currentPoint.getFeatures()[featureIndex];
                X[pointIndex][featureIndex] = feature;
            }
        }
        return X;
    }

    private static double[] initialiseY(final PointLab18[] allPoints) {
        double[] y = new double[allPoints.length];
        for (int pointIndex = 0; pointIndex < allPoints.length; pointIndex++) {
            double classification = allPoints[pointIndex].getClassification();
            y[pointIndex] = (int)classification;
        }
        return y;
    }
}